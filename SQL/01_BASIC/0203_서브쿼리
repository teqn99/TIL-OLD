# Oracle SQL Developer

[서브쿼리 (Sub Query)]
- 쿼리(insert, delete, update, select)안에서 select 쿼리를 사용하는 것.
- 메인 쿼리 - 서브쿼리

서브쿼리가 사용되는 구
 - select절, from절, where절, having절
   (order by, group by빼고는 거의 다 쓴다.)
 
서브쿼리의 종류
- 어느 구절에 사용되었는지에 따른 구분
    - 스칼라 서브쿼리 - select 절에 사용. 반드시 서브쿼리 결과가 1행 1열(값 하나-스칼라) 0행이 조회되면 null을 반환
    - 인라인 뷰 - from 절에 사용되어 테이블의 역할을 한다.
서브쿼리 조회결과 행수에 따른 구분
    - 단일행 서브쿼리 - 서브쿼리의 조회결과 행이 한 행인 것.
    - 다중행 서브쿼리 - 서브쿼리의 조회결과 행이 여러 행인 것.
동작 방식에 따른 구분
    - 비상관(비연관) 서브쿼리 - 서브쿼리에 메인쿼리의 컬럼이 사용되지 않는다. 메인쿼리에 사용할 값을 서브쿼리가 제공하는 역할을 한다.
    - 상관(연관) 서브쿼리 - 서브쿼리에서 메인쿼리의 컬럼을 사용한다. 
                        메인쿼리가 먼저 수행되어 읽혀진 데이터를 서브쿼리에서 조건이 맞는지 확인하고자 할때 주로 사용한다.

- 서브쿼리는 반드시 ( ) 로 묶어줘야 한다.
  ex)
  (pair 방식 서브쿼리)
  select  *
  from    emp
  where   (job_id, dept_id) = (select  job_id, dept_id
                               from    emp
                               where   emp_id = 115);



 [다중행 서브쿼리]
 - 서브쿼리의 조회 결과가 여러행인 경우
 - where절 에서의 연산자
  	- in
  	- 비교연산자 any(서브쿼리) : 조회된 값들 중 하나만 참이면 참 (where 컬럼 > any(서브쿼리) )
  	- 비교연산자 all(서브쿼리) : 조회된 값들 모두와 참이면 참 (where 컬럼 > all(서브쿼리) )
    ex)
    select  *
    from    emp
    where   salary > all(select salary 
                         from emp 
                         where emp_id in (101, 102, 103));
